<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MPLS 2025 - SMK MUHAMADIYAH 1 BOYOLALI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-500 via-purple-500 to-fuchsia-500 animate-gradient-move font-montserrat">
    <div class="backdrop-blur-xl bg-white/30 border border-white/30 rounded-2xl shadow-2xl px-8 py-10 max-w-md w-full text-center animate-fadein">
        <div class="relative flex justify-center mb-6 group">
            {% if logo_url %}
                <img src="{{ logo_url }}" alt="Logo Sekolah" class="w-24 h-24 rounded-full object-contain border-4 border-white shadow-md bg-gray-100 cursor-pointer group-hover:opacity-80 transition" id="logo-img">
            {% else %}
                <div class="w-24 h-24 rounded-full flex items-center justify-center bg-gray-200 text-4xl text-gray-400 border-4 border-white shadow-md cursor-pointer group-hover:opacity-80 transition" id="logo-img">?</div>
            {% endif %}
            {% if user.is_superuser %}
            <a href="{% url 'main:upload_logo' %}" id="edit-logo-btn" class="absolute bottom-1 right-1 translate-x-1/4 translate-y-1/4 bg-gradient-to-r from-indigo-500 to-fuchsia-500 text-white rounded-full w-6 h-6 flex items-center justify-center shadow-lg hover:scale-110 transition opacity-0 group-hover:opacity-100 pointer-events-none group-hover:pointer-events-auto z-10" style="box-shadow:0 2px 8px rgba(80,0,120,0.15)" title="Ganti Logo">
                <i class="fas fa-pencil-alt text-xs"></i>
            </a>
            {% endif %}
        </div>
        <div class="mb-6">
            <h1 class="text-2xl font-bold text-white drop-shadow mb-1 tracking-wide">MPLS 2025</h1>
            <h2 class="text-base font-semibold text-white mb-2 tracking-wide">SMK MUHAMADIYAH 1 BOYOLALI</h2>
        </div>
        <div class="grid grid-cols-3 gap-3 mb-2">
            <a href="{% url 'panitia:struktur_organisasi' %}" class="flex flex-col items-center gap-1 bg-white/60 hover:bg-gradient-to-r hover:from-indigo-500 hover:to-fuchsia-500 hover:text-white transition rounded-lg px-2 py-3 font-semibold text-indigo-700 shadow group text-xs">
                <i class="fas fa-users text-indigo-500 group-hover:text-white text-lg"></i> Panitia Utama
            </a>
            <a href="{% url 'panitia:menu_ipm' %}" class="flex flex-col items-center gap-1 bg-white/60 hover:bg-gradient-to-r hover:from-indigo-500 hover:to-fuchsia-500 hover:text-white transition rounded-lg px-2 py-3 font-semibold text-indigo-700 shadow group text-xs">
                <i class="fas fa-user-graduate text-indigo-500 group-hover:text-white text-lg"></i> Panitia IPM
            </a>
            <a href="{% url 'panitia:daftar_kelompok' %}" class="flex flex-col items-center gap-1 bg-white/60 hover:bg-gradient-to-r hover:from-indigo-500 hover:to-fuchsia-500 hover:text-white transition rounded-lg px-2 py-3 font-semibold text-indigo-700 shadow group text-xs">
                <i class="fas fa-list-ol text-indigo-500 group-hover:text-white text-lg"></i> Daftar Kelompok
            </a>
            <a href="{% url 'panitia:pengumuman' %}" class="flex flex-col items-center gap-1 bg-white/60 hover:bg-gradient-to-r hover:from-indigo-500 hover:to-fuchsia-500 hover:text-white transition rounded-lg px-2 py-3 font-semibold text-indigo-700 shadow group text-xs">
                <i class="fas fa-bullhorn text-yellow-400 group-hover:text-white text-lg"></i> Pengumuman
            </a>
            <a href="{% url 'panitia:logistik' %}" class="flex flex-col items-center gap-1 bg-white/60 hover:bg-gradient-to-r hover:from-indigo-500 hover:to-fuchsia-500 hover:text-white transition rounded-lg px-2 py-3 font-semibold text-indigo-700 shadow group text-xs">
                <i class="fas fa-box text-green-500 group-hover:text-white text-lg"></i> Logistik
            </a>
            <a href="{% url 'panitia:surat' %}" class="flex flex-col items-center gap-1 bg-white/60 hover:bg-gradient-to-r hover:from-indigo-500 hover:to-fuchsia-500 hover:text-white transition rounded-lg px-2 py-3 font-semibold text-indigo-700 shadow group text-xs">
                <i class="fas fa-envelope-open-text text-pink-500 group-hover:text-white text-lg"></i> Surat-Surat
            </a>
            <a href="{% url 'panitia:jadwal' %}" class="flex flex-col items-center gap-1 bg-white/60 hover:bg-gradient-to-r hover:from-indigo-500 hover:to-fuchsia-500 hover:text-white transition rounded-lg px-2 py-3 font-semibold text-indigo-700 shadow group text-xs">
                <i class="fas fa-calendar-alt text-blue-400 group-hover:text-white text-lg"></i> Jadwal Kegiatan
            </a>
            <a href="{% url 'panitia:absensi' %}" class="flex flex-col items-center gap-1 bg-white/60 hover:bg-gradient-to-r hover:from-indigo-500 hover:to-fuchsia-500 hover:text-white transition rounded-lg px-2 py-3 font-semibold text-indigo-700 shadow group text-xs">
                <i class="fas fa-clipboard-check text-emerald-500 group-hover:text-white text-lg"></i> Absensi
            </a>
            <a href="{% url 'panitia:keuangan' %}" class="flex flex-col items-center gap-1 bg-white/60 hover:bg-gradient-to-r hover:from-indigo-500 hover:to-fuchsia-500 hover:text-white transition rounded-lg px-2 py-3 font-semibold text-indigo-700 shadow group text-xs">
                <i class="fas fa-coins text-orange-400 group-hover:text-white text-lg"></i> Keuangan
            </a>
        </div>
        {% if user.is_authenticated %}
        <form action="{% url 'logout' %}" method="post" class="w-full mt-8">
            {% csrf_token %}
            <button type="submit" class="w-full py-3 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-lg shadow hover:bg-pink-600 flex items-center justify-center gap-2 text-base font-semibold mt-6">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </form>
        {% endif %}
        
    </div>
    <style>
        @keyframes gradient-move {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }
        .animate-gradient-move {
            background-size: 200% 200%;
            animation: gradient-move 8s ease-in-out infinite alternate;
        }
        .animate-fadein {
            animation: fadein 1.2s;
        }
        @keyframes fadein {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .font-montserrat {
            font-family: 'Montserrat', Arial, sans-serif;
        }
    </style>
    <script>
        // Tampilkan tombol edit hanya saat logo diklik
        const logoImg = document.getElementById('logo-img');
        const editBtn = document.getElementById('edit-logo-btn');
        let editTimeout;
        if (logoImg && editBtn) {
            logoImg.addEventListener('click', function() {
                editBtn.classList.remove('opacity-0','pointer-events-none');
                editBtn.classList.add('opacity-100','pointer-events-auto');
                clearTimeout(editTimeout);
                editTimeout = setTimeout(() => {
                    editBtn.classList.add('opacity-0','pointer-events-none');
                    editBtn.classList.remove('opacity-100','pointer-events-auto');
                }, 2500);
            });
        }
    </script>
</body>
</html>
